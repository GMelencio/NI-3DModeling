<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>My first Three.js app</title>
    <style>
        body {
            margin: 0;
            font-family: 'Myriad Pro', Helvetica, Arial, 'Lucida Grande', sans-serif;
            font-size: 14pt;
            color: black;
        }

        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script src="http://threejs.org/build/three.min.js"></script>
    <script src="http://threejs.org/examples/js/controls/TrackballControls.js" ></script>
    <script src="http://threejs.org/examples/js/libs/stats.min.js"></script>
    <script src="http://js.leapmotion.com/0.2.0/leap.min.js"></script>
    <!--
    <script src="http://js.leapmotion.com/leap-0.6.4.min.js"></script>
    <script src="http://js.leapmotion.com/leap-plugins-0.1.10.min.js"></script>
    <script src="http://js.leapmotion.com/leap-plugins-0.1.10-utils.min.js"></script>
    <script src="http://js.leapmotion.com/leap.rigged-hand-0.1.5.min.js"></script>
        -->
    <script>
        /*
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 50;
        camera.lookAt(scene.position);

        var renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        var spheresDrawn = [];

        function drawSphere(size, translate) {
            var geom = new THREE.SphereGeometry(size, 32, 32);
            var material = new THREE.MeshNormalMaterial({ color: 0x00fff0 })
            var sphere = new THREE.Mesh(geom, material)
            sphere.translateX(translate)
            scene.add(sphere);
            spheresDrawn.push(sphere)
        }

        function drawLine() {
            var material = new THREE.LineBasicMaterial({
                color: 0x0000ff
            });

            var geometry = new THREE.Geometry();
            geometry.vertices.push(
                new THREE.Vector3(-10, 0, 0),
                new THREE.Vector3(0, 10, 0),
                new THREE.Vector3(10, 0, 0)
            );

            var line = new THREE.Line(geometry, material);
            scene.add(line);
        }


        //Create a closed bent a sine-like wave
        var curve = new THREE.SplineCurve3([
            new THREE.Vector3(-10, 0, 10),
            new THREE.Vector3(-5, 5, 5),
            new THREE.Vector3(0, 0, 0),
            new THREE.Vector3(5, -5, 5),
            new THREE.Vector3(10, 0, 10)
        ]);

        var geometry = new THREE.Geometry();
        geometry.vertices = curve.getPoints(50);

        var material = new THREE.LineBasicMaterial({ color: 0xff0000 });
        //var spline = new THREE.Mesh(geometry, material);
        scene.add(geometry);

        function render() {
            requestAnimationFrame(render);
            
            //if (spheresDrawn.length <= 5)
            //    drawSphere(3, spheresDrawn.length*10);
            
            renderer.render(scene, camera);
        }
        render();

        var riggedHandPlugin;
        Leap.loop(
              function (frame) {
                  frame.hands.forEach(
                    function (hand) {
                        var drawingFinger = DrawingFinger(hand);
                        if (drawingFinger != null) {
                            drawLine();
                            //drawSphere(1, drawingFinger.tipPosition);
                            var debugText = document.getElementById("debugtext")
                            debugtext.innerHTML = drawingFinger.tipPosition//.X + ", " + drawingFinger.tipPosition.Y + ", " + drawingFinger.tipPosition.Z
                        }

                    }
                  )
              }
           )
            .use('riggedHand')
            .use('handEntry')

        riggedHandPlugin = Leap.loopController.plugins.riggedHand;

        var DrawingFinger = function (hand) {
            var extendedFingers = GetExtendedFingers(hand);
            return (extendedFingers.length == 1 && extendedFingers[0].type == 1) ? extendedFingers[0] : null;
        }


        var GetExtendedFingers = function (hand) {
            var extendedFingers = [];
            hand.fingers.forEach(function (finger) {
                if (finger.extended)
                    extendedFingers.push(finger);
            });

            return extendedFingers;
        }
        */

        var scene = new THREE.Scene();
        
    </script>

    <script src="DrawingWithThree.js"></script>
    <div id="debugtext">hello</div>
</body>
</html>